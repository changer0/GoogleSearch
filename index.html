<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="images/googleg_standard_color_128dp.png" type="image/x-icon">
    <!-- 禁止页面放大 -->
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" />
    <title>Google 搜索</title>
    <script src="jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css" />

    <!-- 全局直接打开新页面 -->
    <base target="_blank"/>
</head>

<body>
    <span class="v-num"> V1.0.2</span>
    <!-- <span class="author">by changer0</span> -->
    <div class="search-box">
        <input id="input" type="text" placeholder="请输入关键字">
        <div class="button-icons">
            <div id="clear" style="display: inline-block;" jscontroller="PymCCe" class="BKRPef M2vV3" jsname="RP0xob"
                aria-label="清除" role="button" jsaction="AVsnlb;rcuQ6b:npT2md"
                data-ved="0ahUKEwjo8P64guzxAhWEDd4KHZF3DWsQ05YFCA8"> <span class="ExCKkf z1asCe rzyADb" jsname="itVqKe"
                    role="button" tabindex="0"><svg focusable="false" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24">
                        <path
                            d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z">
                        </path>
                    </svg></span> <span class="ACRAdd"></span>
            </div>
            <button id="doSearch" class="Tg7LZd" jsname="Tg7LZd" aria-label="Google 搜索" type="submit"
                data-ved="0ahUKEwjk8srMuezxAhUTLJQKHazAAjgQ4dUDCA4">
                <div class="FAuhyb"> <span class="z1asCe MZy1Rb"><svg focusable="false"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path
                                d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z">
                            </path>
                        </svg></span> </div>
            </button>

        </div>
    </div>
    <div id="container">
        
    </div>

</body>

<script>
    $(function () {
        console.log("入口函数执行")
        $("#container").html('<div class="center-text">点击搜索按钮开始搜索吧 ^v^  by changer0</div>')
        // 执行搜索
        function doSearch() {
            $("#container").html('<div class="loading"> '+ 
            ' <span></span> ' + 
            ' <span></span> ' + 
            ' <span></span> ' + 
            ' <span></span> ' + 
            ' <span></span> ' + 
            '</div>')
        
            var value = $("#input").val().trim()
            if (value == "") {
                alert("请输入关键字")
            }
            console.log("开始搜索：" + value)
            $.ajax({
                type: 'GET',
                url: "https://service-3g16dd8s-1256519379.hk.apigw.tencentcs.com/release/helloworld-1613704624?q=" +
                    value,
                success: function (data) {
                    // console.log("回调数据： " + data.toString())
                    $("#container").html(data)
                },
                error: function (e) {
                    console.log("回调数据 E： " + JSON.stringify(e))
                }
            });
        }
        $("#clear").on("click", function () {
            console.log("清除")
            $("#input").val("")
        })
        $("#doSearch").on("click", function () {
            doSearch()
        })

        $(document).keyup(function (e) {
            var key = e.which;
            if (key == 13) {
                /*Do something. 调用一些方法*/
                doSearch()
            }
        });
    })
</script>

</html>